name: Build on Windows
on: push
jobs:
  build:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v3
      - run: Invoke-WebRequest -Uri "https://web.archive.org/web/20060114221019/http://community.borland.com/article/images/21751/tcpp101.zip" -OutFile "tcpp101.zip"
      - run: Expand-Archive "tcpp101.zip" -DestinationPath "tcpp101"
      - run: Expand-Archive "tcpp101\TCC.ZIP" -DestinationPath "tcc"
      - run: $env:Path = (get-location).path + '\tcpp101\tcc;' + $env:Path
      - run: cmd.exe -/c "build.bat"
